CREATE TABLE PROJET (ID INTEGER NOT NULL, ARCHIVAGE VARCHAR(255) NOT NULL, COMMENTAIRE VARCHAR(255), NUMERO VARCHAR(255) UNIQUE NOT NULL, CHARGEGLOBALPREVUE DOUBLE NOT NULL, ETATPROJ VARCHAR(255) NOT NULL, CHARGEGLOBALCONSOMMEE DOUBLE NOT NULL, LIBELLE VARCHAR(255) NOT NULL, CHARGENONPLANIFIEE DOUBLE NOT NULL, responsable_fk INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE taches (ID INTEGER NOT NULL, ETATTACHE VARCHAR(255) NOT NULL, DATEDEBUT DATE, NATURE BLOB(64000) NOT NULL, DATEFIN DATE, DESCRIPTIF VARCHAR(255) NOT NULL, CHARGEEFFECTIVE DOUBLE NOT NULL, CHARGEPREVISIONNELLE DOUBLE NOT NULL, REMARQUE VARCHAR(255) NOT NULL, CONSOMME INTEGER NOT NULL, projet_fk INTEGER NOT NULL, employe_fk INTEGER NOT NULL, PRIMARY KEY (ID))
CREATE TABLE employes (ID INTEGER NOT NULL, INITIALES VARCHAR(2) NOT NULL, NOM VARCHAR(30) NOT NULL, PRENOM VARCHAR(30) NOT NULL, PRIMARY KEY (ID))
ALTER TABLE PROJET ADD CONSTRAINT FK_PROJET_responsable_fk FOREIGN KEY (responsable_fk) REFERENCES employes (ID)
ALTER TABLE taches ADD CONSTRAINT FK_taches_projet_fk FOREIGN KEY (projet_fk) REFERENCES PROJET (ID)
ALTER TABLE taches ADD CONSTRAINT FK_taches_employe_fk FOREIGN KEY (employe_fk) REFERENCES employes (ID)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 1)
